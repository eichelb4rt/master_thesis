\documentclass[twoside, fontsize=12pt, parskip=half-]{scrbook}

\usepackage{blindtext}
\usepackage{ifthen}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[ddmmyyyy]{datetime}

\usepackage[top=30mm, bottom=30mm, left=40mm, right=20mm]{geometry}
\usepackage{fancyhdr}
\usepackage{setspace}

\usepackage{graphicx}
\usepackage[section]{placeins}
\usepackage[table, dvipsnames]{xcolor}
\usepackage{pdfpages}

\usepackage[numbers]{natbib}

\usepackage{tabularx}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{adjustbox}

\usepackage{amsmath, amssymb, amsthm}
\usepackage{bm}
\usepackage{enumitem}

\usepackage{hyperref}
\usepackage[noabbrev, capitalise, nameinlink]{cleveref}
\usepackage[labelfont=bf]{caption}

\usepackage{tikz}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% print version or digital?
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newboolean{print_version}
% SET THIS FLAG TO TRUE IF YOU WANT THE PRINT VERSION, FALSE IF YOU WANT THE DIGITAL VERSION
\setboolean{print_version}{false}
\ifthenelse{\boolean{print_version}}{\selectcolormodel{gray}}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% formatting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\dateseparator}{.}
\renewcommand*{\sectionmark}[1]{ \markright{\thesection\ ##1} }
\renewcommand*{\chaptermark}[1]{ \markboth{\chaptername\ \thechapter: ##1}{} }
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO,RE]{}
\fancyfoot{}
\pagestyle{fancy}

\graphicspath{{graphics/}}

\definecolor{myblue}{RGB}{46, 59, 160}
\hypersetup{
	pdfstartpage=7,
    pdfstartview = FitB,
	pdfpagelayout=SinglePage,
	pdftitle={Masterthesis},
	pdfsubject={Masterthesis},
	pdfauthor={Maurice Wenig},
	pdfcreator={Maurice Wenig},
	pdfproducer={Maurice Wenig},
	pdfkeywords={meta, information, pdf, hyperref, latex},
	colorlinks=true,
	linkcolor=myblue,
	citecolor=myblue
}

\bibliographystyle{unsrtnat}

\newcommand*\justify{%
  \hyphenchar\font=\-% allowing hyphenation
}

\hyphenpenalty=5000
\tolerance=5000

% \setparsizes{1em}{0.25\baselineskip plus .25\baselineskip}{1em plus 1fil}
\raggedbottom

% fixes autoref not capitalizing chapters and sections
% \AtBeginDocument{\def\chapterautorefname{Chapter}}
% \AtBeginDocument{\def\sectionautorefname{Section}}
% \AtBeginDocument{\def\subsectionautorefname{Subsection}}
% \AtBeginDocument{\def\subsubsectionautorefname{Subsubsection}}
% \AtBeginDocument{\def\lemmaautorefname{Lemma}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% math stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newtheoremstyle{mythm}{}{5mm}{}{}{\bfseries}{}{0mm}
{\thmname{#1}\thmnumber{ #2:} \thmnote{#3}}
\theoremstyle{mythm}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{definition}{Definition}

\DeclareMathAlphabet{\mymathbb}{U}{BOONDOX-ds}{m}{n}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% tikz stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usetikzlibrary{shapes.geometric, arrows, automata, positioning, calc, backgrounds}
\tikzset{every state/.style={minimum size=8mm}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\C{\mathbb{C}}
\def\R{\mathbb{R}}
\def\N{\mathbb{N}}
\def\0{\mymathbb{0}}
\def\1{\mymathbb{1}}
\def\T{\top}
\newcommand{\smallset}[1]{\lbrace #1 \rbrace}
\newcommand{\set}[1]{\left\lbrace #1 \right\rbrace}
\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% main
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\frontmatter
\thispagestyle{empty}
\begin{titlepage}
	\centering
	\vspace*{3cm}
	\includegraphics{hanfried_logo.png}
	\vspace{2cm}\\
	\begin{LARGE}
		\textbf{Exploring Einsum as a Universal Inference Language}
	\end{LARGE}
	\vspace{2cm}\\
	\begin{Large}
		\textbf{Masterarbeit}
	\end{Large}\vspace{3mm}\\
	\begin{large}
		\begin{spacing}{1.6}
			\textbf{zur Erlangung des akademischen Grades}\\
			Master of Science (M.Sc.)\\
			im Studiengang Informatik\vspace{3mm}\\
			\textbf{Friedrich-Schiller-Universität Jena\\
				Fakultät für Mathematik und Informatik}\vspace{3mm}\\
			\textbf{von} Maurice Wenig \textbf{geboren am} 11.08.1999 \textbf{in} Jena\\
			\textbf{Betreuer:} Prof. Dr. Joachim Giesen, Dr. Julien Klaus
		\end{spacing}
	\end{large}
\end{titlepage}
\cleardoublepage

\input{chapters/abstract.tex}
\setcounter{tocdepth}{1}
\tableofcontents


\mainmatter
\fancyhead[LO,RE]{\itshape\nouppercase\leftmark}
\input{chapters/introduction.tex}
\input{chapters/einsum.tex}
\input{chapters/nested/main.tex}
\input{chapters/examples/main.tex}
\input{chapters/deep_learning/main.tex}
\input{chapters/conclusion.tex}
\typeout{}


\backmatter
\bibliography{literature}
\listoffigures
\appendix
\input{chapters/appendix/main.tex}

\end{document}